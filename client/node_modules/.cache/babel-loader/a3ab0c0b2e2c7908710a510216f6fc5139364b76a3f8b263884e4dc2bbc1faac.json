{"ast":null,"code":"import \"core-js/modules/web.dom-exception.stack.js\";\nimport { onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport AppHeader from '@/components/AppHeader.vue';\nimport api from '@/services/api';\nexport default {\n  name: 'App',\n  components: {\n    AppHeader\n  },\n  setup() {\n    const store = useStore();\n    function decodeToken(token) {\n      try {\n        return JSON.parse(atob(token.split('.')[1]));\n      } catch (e) {\n        console.error('Error decoding token:', e);\n        return null;\n      }\n    }\n\n    // After login\n    const token = localStorage.getItem('token');\n    console.log('Decoded token:', decodeToken(token));\n    onMounted(async () => {\n      const token = localStorage.getItem('token');\n      if (token) {\n        try {\n          const user = await api.verifyToken(token);\n          store.dispatch('setUser', user);\n        } catch (error) {\n          console.error('Token verification failed:', error);\n          localStorage.removeItem('token');\n        }\n      }\n    });\n    return {};\n  }\n};","map":{"version":3,"names":["onMounted","useStore","AppHeader","api","name","components","setup","store","decodeToken","token","JSON","parse","atob","split","e","console","error","localStorage","getItem","log","user","verifyToken","dispatch","removeItem"],"sources":["/Users/hyemin/Documents/Projects/decision-maker/client/src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <AppHeader />\n    <div class=\"container\">\n      <router-view></router-view>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport AppHeader from '@/components/AppHeader.vue';\nimport api from '@/services/api';\n\nexport default {\n  name: 'App',\n  components: {\n    AppHeader\n  },\n  setup() {\n    const store = useStore();\n\n    function decodeToken(token) {\n      try {\n        return JSON.parse(atob(token.split('.')[1]));\n      } catch (e) {\n        console.error('Error decoding token:', e);\n        return null;\n      }\n    }\n\n    // After login\n    const token = localStorage.getItem('token');\n    console.log('Decoded token:', decodeToken(token));\n\n    onMounted(async () => {\n      const token = localStorage.getItem('token');\n      if (token) {\n        try {\n          const user = await api.verifyToken(token);\n          store.dispatch('setUser', user);\n        } catch (error) {\n          console.error('Token verification failed:', error);\n          localStorage.removeItem('token');\n        }\n      }\n    });\n\n    return {};\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n\nbody.dark-mode {\n  background-color: #1a1a1a;\n  color: #ffffff;\n}\n</style>"],"mappings":";AAUA,SAASA,SAAQ,QAAS,KAAK;AAC/B,SAASC,QAAO,QAAS,MAAM;AAC/B,OAAOC,SAAQ,MAAO,4BAA4B;AAClD,OAAOC,GAAE,MAAO,gBAAgB;AAEhC,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE;IACVH;EACF,CAAC;EACDI,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIN,QAAQ,CAAC,CAAC;IAExB,SAASO,WAAWA,CAACC,KAAK,EAAE;MAC1B,IAAI;QACF,OAAOC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACH,KAAK,CAACI,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9C,EAAE,OAAOC,CAAC,EAAE;QACVC,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEF,CAAC,CAAC;QACzC,OAAO,IAAI;MACb;IACF;;IAEA;IACA,MAAML,KAAI,GAAIQ,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3CH,OAAO,CAACI,GAAG,CAAC,gBAAgB,EAAEX,WAAW,CAACC,KAAK,CAAC,CAAC;IAEjDT,SAAS,CAAC,YAAY;MACpB,MAAMS,KAAI,GAAIQ,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,IAAIT,KAAK,EAAE;QACT,IAAI;UACF,MAAMW,IAAG,GAAI,MAAMjB,GAAG,CAACkB,WAAW,CAACZ,KAAK,CAAC;UACzCF,KAAK,CAACe,QAAQ,CAAC,SAAS,EAAEF,IAAI,CAAC;QACjC,EAAE,OAAOJ,KAAK,EAAE;UACdD,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;UAClDC,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;QAClC;MACF;IACF,CAAC,CAAC;IAEF,OAAO,CAAC,CAAC;EACX;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}