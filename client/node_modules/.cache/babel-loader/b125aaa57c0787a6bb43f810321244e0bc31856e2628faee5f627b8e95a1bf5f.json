{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-ef68022e\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container login-page\"\n};\nconst _hoisted_2 = {\n  class: \"row justify-content-center\"\n};\nconst _hoisted_3 = {\n  class: \"col-12 col-md-6 col-lg-4\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-center mb-4\"\n}, \"Login\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"mb-3\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\",\n  class: \"form-label\"\n}, \"Email address\", -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"mb-3\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\",\n  class: \"form-label\"\n}, \"Password\", -1 /* HOISTED */));\nconst _hoisted_9 = {\n  class: \"d-grid\"\n};\nconst _hoisted_10 = [\"disabled\"];\nconst _hoisted_11 = {\n  key: 0,\n  class: \"text-danger mt-3\"\n};\nconst _hoisted_12 = {\n  class: \"mt-3 text-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $setup.login && $setup.login(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    class: \"form-control custom-input\",\n    id: \"email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.email = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.email]])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    class: \"form-control custom-input\",\n    id: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.password = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.password]])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary btn-lg\",\n    disabled: $setup.isLoading\n  }, _toDisplayString($setup.isLoading ? 'Logging in...' : 'Login'), 9 /* TEXT, PROPS */, _hoisted_10)])], 32 /* NEED_HYDRATION */), $setup.error ? (_openBlock(), _createElementBlock(\"p\", _hoisted_11, _toDisplayString($setup.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"p\", _hoisted_12, [_createTextVNode(\" Don't have an account? \"), _createVNode(_component_router_link, {\n    to: \"/signup\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Sign Up\")]),\n    _: 1 /* STABLE */\n  })])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","key","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onSubmit","_cache","_withModifiers","args","$setup","login","_hoisted_5","_hoisted_6","type","id","$event","email","required","_hoisted_7","_hoisted_8","password","_hoisted_9","disabled","isLoading","_hoisted_10","error","_hoisted_11","_toDisplayString","_createCommentVNode","_hoisted_12","_createTextVNode","_createVNode","_component_router_link","to","default","_withCtx","_"],"sources":["/Users/hyemin/Documents/Projects/decision-maker/client/src/components/Login.vue"],"sourcesContent":["<template>\n    <div class=\"container login-page\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-12 col-md-6 col-lg-4\">\n          <h2 class=\"text-center mb-4\">Login</h2>\n          <form @submit.prevent=\"login\">\n            <div class=\"mb-3\">\n              <label for=\"email\" class=\"form-label\">Email address</label>\n              <input type=\"email\" class=\"form-control custom-input\" id=\"email\" v-model=\"email\" required>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"password\" class=\"form-label\">Password</label>\n              <input type=\"password\" class=\"form-control custom-input\" id=\"password\" v-model=\"password\" required>\n            </div>\n            <div class=\"d-grid\">\n              <button type=\"submit\" class=\"btn btn-primary btn-lg\" :disabled=\"isLoading\">\n                {{ isLoading ? 'Logging in...' : 'Login' }}\n              </button>\n            </div>\n          </form>\n          <p v-if=\"error\" class=\"text-danger mt-3\">{{ error }}</p>\n          <p class=\"mt-3 text-center\">\n            Don't have an account? <router-link to=\"/signup\">Sign Up</router-link>\n          </p>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\n\nexport default {\n  name: 'LoginPage',\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const email = ref('');\n    const password = ref('');\n    const error = ref('');\n    const isLoading = ref(false);\n\n    const login = async () => {\n      isLoading.value = true;\n      error.value = '';\n      try {\n        await store.dispatch('login', {\n          email: email.value,\n          password: password.value\n        });\n        router.push('/');  // Redirect to home page after successful login\n      } catch (e) {\n        console.error('Login error:', e);\n        error.value = e.response?.data?.error || 'Login failed. Please try again.';\n      } finally {\n        isLoading.value = false;\n      }\n    };\n\n    return { email, password, error, isLoading, login };\n  }\n}\n</script>\n  \n  <style lang=\"scss\" scoped>\n  .login-page {\n    padding: 2rem;\n  \n    .custom-input {\n      background-color: #f0f2f4;\n      border: none;\n      border-radius: 0.75rem;\n      padding: 0.75rem 1rem;\n      color: #111418;\n  \n      &:focus {\n        box-shadow: none;\n        outline: none;\n      }\n    }\n  \n    .btn-primary {\n      background-color: #1568c1;\n      border-color: #1568c1;\n      border-radius: 0.75rem;\n      font-weight: bold;\n    }\n  }\n  </style>"],"mappings":";;;EACSA,KAAK,EAAC;AAAsB;;EAC1BA,KAAK,EAAC;AAA4B;;EAChCA,KAAK,EAAC;AAA0B;gEACnCC,mBAAA,CAAuC;EAAnCD,KAAK,EAAC;AAAkB,GAAC,OAAK;;EAE3BA,KAAK,EAAC;AAAM;gEACfC,mBAAA,CAA2D;EAApDC,GAAG,EAAC,OAAO;EAACF,KAAK,EAAC;GAAa,eAAa;;EAGhDA,KAAK,EAAC;AAAM;gEACfC,mBAAA,CAAyD;EAAlDC,GAAG,EAAC,UAAU;EAACF,KAAK,EAAC;GAAa,UAAQ;;EAG9CA,KAAK,EAAC;AAAQ;oBAd/B;;EAAAG,GAAA;EAoB0BH,KAAK,EAAC;;;EACnBA,KAAK,EAAC;AAAkB;;;uBApBjCI,mBAAA,CAyBM,OAzBNC,UAyBM,GAxBJJ,mBAAA,CAuBM,OAvBNK,UAuBM,GAtBJL,mBAAA,CAqBM,OArBNM,UAqBM,GApBJC,UAAuC,EACvCP,mBAAA,CAcO;IAdAQ,QAAM,EAAAC,MAAA,QAAAA,MAAA,MALvBC,cAAA,KAAAC,IAAA,KAKiCC,MAAA,CAAAC,KAAA,IAAAD,MAAA,CAAAC,KAAA,IAAAF,IAAA,CAAK;MAC1BX,mBAAA,CAGM,OAHNc,UAGM,GAFJC,UAA2D,E,gBAC3Df,mBAAA,CAA0F;IAAnFgB,IAAI,EAAC,OAAO;IAACjB,KAAK,EAAC,2BAA2B;IAACkB,EAAE,EAAC,OAAO;IAR9E,uBAAAR,MAAA,QAAAA,MAAA,MAAAS,MAAA,IAQwFN,MAAA,CAAAO,KAAK,GAAAD,MAAA;IAAEE,QAAQ,EAAR;iDAAPR,MAAA,CAAAO,KAAK,E,KAEjFnB,mBAAA,CAGM,OAHNqB,UAGM,GAFJC,UAAyD,E,gBACzDtB,mBAAA,CAAmG;IAA5FgB,IAAI,EAAC,UAAU;IAACjB,KAAK,EAAC,2BAA2B;IAACkB,EAAE,EAAC,UAAU;IAZpF,uBAAAR,MAAA,QAAAA,MAAA,MAAAS,MAAA,IAY8FN,MAAA,CAAAW,QAAQ,GAAAL,MAAA;IAAEE,QAAQ,EAAR;iDAAVR,MAAA,CAAAW,QAAQ,E,KAE1FvB,mBAAA,CAIM,OAJNwB,UAIM,GAHJxB,mBAAA,CAES;IAFDgB,IAAI,EAAC,QAAQ;IAACjB,KAAK,EAAC,wBAAwB;IAAE0B,QAAQ,EAAEb,MAAA,CAAAc;sBAC3Dd,MAAA,CAAAc,SAAS,oDAhB5BC,WAAA,E,8BAoBmBf,MAAA,CAAAgB,KAAK,I,cAAdzB,mBAAA,CAAwD,KAAxD0B,WAAwD,EAAAC,gBAAA,CAAZlB,MAAA,CAAAgB,KAAK,oBApB3DG,mBAAA,gBAqBU/B,mBAAA,CAEI,KAFJgC,WAEI,GAvBdC,gBAAA,CAqBsC,0BACH,GAAAC,YAAA,CAA+CC,sBAAA;IAAlCC,EAAE,EAAC;EAAS;IAtB5DC,OAAA,EAAAC,QAAA,CAsB6D,MAAO,CAtBpEL,gBAAA,CAsB6D,SAAO,E;IAtBpEM,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}