{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createStore } from 'vuex';\nimport api from '@/services/api';\nexport default createStore({\n  state: {\n    currentStep: 1,\n    choices: [],\n    probabilities: [],\n    wheelCustomization: {},\n    result: null,\n    user: null,\n    decision: ''\n  },\n  mutations: {\n    setUser(state, user) {\n      state.user = user;\n    },\n    setCurrentStep(state, step) {\n      state.currentStep = step;\n    },\n    addChoice(state, choice) {\n      state.choices.push(choice);\n    },\n    removeChoice(state, index) {\n      state.choices.splice(index, 1);\n      // Also remove the corresponding probability if it exists\n      if (state.probabilities.length > index) {\n        state.probabilities.splice(index, 1);\n      }\n    },\n    setProbabilities(state, probabilities) {\n      state.probabilities = probabilities;\n    },\n    setWheelCustomization(state, customization) {\n      state.wheelCustomization = customization;\n    },\n    setResult(state, result) {\n      state.result = result;\n    },\n    resetDecision(state) {\n      state.choices = [];\n      state.probabilities = [];\n      state.wheelCustomization = {};\n      state.result = null;\n    }\n  },\n  actions: {\n    async fetchChoices({\n      commit\n    }) {\n      const choices = await api.getChoices();\n      commit('setChoices', choices);\n    },\n    async createChoice({\n      commit\n    }, choice) {\n      const newChoice = await api.addChoice(choice);\n      commit('addChoice', newChoice);\n    },\n    async login({\n      commit\n    }, credentials) {\n      try {\n        const response = await api.login(credentials);\n        commit('setUser', response.user);\n        localStorage.setItem('token', response.token);\n      } catch (error) {\n        console.error('Login failed:', error);\n        throw error;\n      }\n    },\n    async logout({\n      commit\n    }) {\n      commit('setUser', null);\n      localStorage.removeItem('token');\n    },\n    async signUp({\n      commit\n    }, userData) {\n      try {\n        const response = await api.signup(userData);\n        commit('setUser', response.user);\n        localStorage.setItem('token', response.token);\n      } catch (error) {\n        console.error('Sign up failed:', error);\n        throw error;\n      }\n    },\n    async saveResult({\n      commit,\n      state\n    }) {\n      try {\n        const savedResult = await api.saveResult({\n          result: state.result,\n          choices: state.choices,\n          probabilities: state.probabilities,\n          decision: state.decision,\n          userId: state.user ? state.user.id : null\n        });\n        commit('setSavedResult', savedResult);\n        return savedResult;\n      } catch (error) {\n        console.error('Failed to save result:', error);\n        throw error;\n      }\n    },\n    async checkAuth({\n      commit\n    }) {\n      const userData = await api.verifyToken();\n      if (userData) {\n        commit('setUser', userData.user);\n      } else {\n        commit('setUser', null);\n      }\n    }\n  },\n  modules: {\n    // Add modules if needed\n  }\n});","map":{"version":3,"names":["createStore","api","state","currentStep","choices","probabilities","wheelCustomization","result","user","decision","mutations","setUser","setCurrentStep","step","addChoice","choice","push","removeChoice","index","splice","length","setProbabilities","setWheelCustomization","customization","setResult","resetDecision","actions","fetchChoices","commit","getChoices","createChoice","newChoice","login","credentials","response","localStorage","setItem","token","error","console","logout","removeItem","signUp","userData","signup","saveResult","savedResult","userId","id","checkAuth","verifyToken","modules"],"sources":["/Users/hyemin/Documents/Projects/decision-maker/client/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\nimport api from '@/services/api' \n\nexport default createStore({\n  state: {\n    currentStep: 1,\n    choices: [],\n    probabilities: [],\n    wheelCustomization: {},\n    result: null,\n    user: null,\n    decision: '',\n  },\n  mutations: {\n    setUser(state, user) {\n      state.user = user;\n    },\n    setCurrentStep(state, step) {\n      state.currentStep = step\n    },\n    addChoice(state, choice) {\n      state.choices.push(choice)\n    },\n    removeChoice(state, index) {\n      state.choices.splice(index, 1)\n      // Also remove the corresponding probability if it exists\n      if (state.probabilities.length > index) {\n        state.probabilities.splice(index, 1)\n      }\n    },\n    setProbabilities(state, probabilities) {\n      state.probabilities = probabilities\n    },\n    setWheelCustomization(state, customization) {\n      state.wheelCustomization = customization\n    },\n    setResult(state, result) {\n      state.result = result\n    },\n    resetDecision(state) {\n      state.choices = []\n      state.probabilities = []\n      state.wheelCustomization = {}\n      state.result = null\n    }\n  },\n  actions: {\n    async fetchChoices({ commit }) {\n      const choices = await api.getChoices();\n      commit('setChoices', choices);\n    },\n    async createChoice({ commit }, choice) {\n      const newChoice = await api.addChoice(choice);\n      commit('addChoice', newChoice);\n    },\n    async login({ commit }, credentials) {\n      try {\n        const response = await api.login(credentials);\n        commit('setUser', response.user);\n        localStorage.setItem('token', response.token);\n      } catch (error) {\n        console.error('Login failed:', error);\n        throw error;\n      }\n    },\n\n    async logout({ commit }) {\n      commit('setUser', null);\n      localStorage.removeItem('token');\n    },\n\n    async signUp({ commit }, userData) {\n      try {\n        const response = await api.signup(userData);\n        commit('setUser', response.user);\n        localStorage.setItem('token', response.token);\n      } catch (error) {\n        console.error('Sign up failed:', error);\n        throw error;\n      }\n    },\n\n    async saveResult({ commit, state }) {\n      try {\n        const savedResult = await api.saveResult({\n          result: state.result,\n          choices: state.choices,\n          probabilities: state.probabilities,\n          decision: state.decision,\n          userId: state.user ? state.user.id : null\n        });\n        commit('setSavedResult', savedResult);\n        return savedResult;\n      } catch (error) {\n        console.error('Failed to save result:', error);\n        throw error;\n      }\n    },\n\n    async checkAuth({ commit }) {\n      const userData = await api.verifyToken();\n      if (userData) {\n        commit('setUser', userData.user);\n      } else {\n        commit('setUser', null);\n      }\n    }\n\n\n  },\n  modules: {\n    // Add modules if needed\n  },\n})\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}