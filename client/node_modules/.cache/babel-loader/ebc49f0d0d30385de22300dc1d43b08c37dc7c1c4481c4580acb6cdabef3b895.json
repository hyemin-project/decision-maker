{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createStore } from 'vuex';\nimport api from '@/services/api';\nexport default createStore({\n  state: {\n    currentStep: 1,\n    choices: [],\n    probabilities: [],\n    wheelCustomization: {},\n    result: null,\n    user: null,\n    decisionQuestion: '',\n    decisionHistory: [],\n    loading: false,\n    error: null\n  },\n  mutations: {\n    setDecisionHistory(state, history) {\n      state.decisionHistory = history;\n    },\n    setLoading(state, isLoading) {\n      state.loading = isLoading;\n    },\n    setError(state, error) {\n      state.error = error;\n    },\n    setUser(state, user) {\n      state.user = user;\n    },\n    setCurrentStep(state, step) {\n      state.currentStep = step;\n    },\n    addChoice(state, choice) {\n      state.choices.push(choice);\n    },\n    removeChoice(state, index) {\n      state.choices.splice(index, 1);\n      if (state.probabilities.length > index) {\n        state.probabilities.splice(index, 1);\n      }\n    },\n    setProbabilities(state, probabilities) {\n      state.probabilities = probabilities;\n    },\n    setWheelCustomization(state, customization) {\n      state.wheelCustomization = customization;\n    },\n    setResult(state, result) {\n      state.result = result;\n    },\n    resetDecision(state) {\n      state.choices = [];\n      state.probabilities = [];\n      state.wheelCustomization = {};\n      state.result = null;\n    },\n    setDecisionQuestion(state, decisionQuestion) {\n      state.decisionQuestion = decisionQuestion;\n    }\n  },\n  actions: {\n    setUser({\n      commit\n    }, user) {\n      commit('setUser', user);\n    },\n    setDecisionQuestion({\n      commit\n    }, decisionQuestion) {\n      commit('setDecisionQuestion', decisionQuestion);\n    },\n    async fetchChoices({\n      commit\n    }) {\n      const choices = await api.getChoices();\n      commit('setChoices', choices);\n    },\n    async createChoice({\n      commit\n    }, choice) {\n      const newChoice = await api.addChoice(choice);\n      commit('addChoice', newChoice);\n    },\n    async login({\n      commit\n    }, {\n      email,\n      password\n    }) {\n      try {\n        const response = await api.login({\n          email,\n          password\n        });\n        commit('setUser', response.user);\n        localStorage.setItem('token', response.token);\n      } catch (error) {\n        console.error('Login failed:', error);\n        throw error;\n      }\n    },\n    async logout({\n      commit\n    }) {\n      commit('setUser', null);\n      localStorage.removeItem('token');\n    },\n    async signUp({\n      commit\n    }, {\n      username,\n      email,\n      password\n    }) {\n      try {\n        const response = await api.signup({\n          username,\n          email,\n          password\n        });\n        commit('setUser', response.user);\n        localStorage.setItem('token', response.token);\n      } catch (error) {\n        console.error('Sign up failed:', error);\n        throw error;\n      }\n    },\n    async saveResult({\n      state\n    }) {\n      try {\n        const savedResult = await api.saveResult({\n          result: state.result,\n          choices: state.choices,\n          probabilities: state.probabilities,\n          decision: state.decision,\n          userId: state.user ? state.user.id : null\n        });\n        return savedResult;\n      } catch (error) {\n        console.error('Failed to save result:', error);\n        throw error;\n      }\n    },\n    async checkAuth({\n      commit\n    }) {\n      try {\n        const userData = await api.verifyToken();\n        if (userData && userData.user) {\n          commit('setUser', userData.user);\n        } else {\n          commit('setUser', null);\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        commit('setUser', null);\n      }\n    },\n    async fetchDecisionHistory({\n      commit\n    }) {\n      commit('setLoading', true);\n      commit('setError', null);\n      try {\n        const response = await api.getDecisionHistory();\n        commit('setDecisionHistory', response.data);\n      } catch (error) {\n        console.error('Error in fetchDecisionHistory:', error);\n        commit('setError', 'Failed to fetch decision history. Please try again later.');\n      } finally {\n        commit('setLoading', false);\n      }\n    }\n  },\n  modules: {\n    // Add modules if needed\n  }\n});","map":{"version":3,"names":["createStore","api","state","currentStep","choices","probabilities","wheelCustomization","result","user","decisionQuestion","decisionHistory","loading","error","mutations","setDecisionHistory","history","setLoading","isLoading","setError","setUser","setCurrentStep","step","addChoice","choice","push","removeChoice","index","splice","length","setProbabilities","setWheelCustomization","customization","setResult","resetDecision","setDecisionQuestion","actions","commit","fetchChoices","getChoices","createChoice","newChoice","login","email","password","response","localStorage","setItem","token","console","logout","removeItem","signUp","username","signup","saveResult","savedResult","decision","userId","id","checkAuth","userData","verifyToken","fetchDecisionHistory","getDecisionHistory","data","modules"],"sources":["/Users/hyemin/Documents/Projects/decision-maker/client/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\nimport api from '@/services/api'\n\nexport default createStore({\n  state: {\n    currentStep: 1,\n    choices: [],\n    probabilities: [],\n    wheelCustomization: {},\n    result: null,\n    user: null,\n    decisionQuestion: '',\n    decisionHistory: [],\n    loading: false,\n    error: null\n  },\n  mutations: {\n    setDecisionHistory(state, history) {\n      state.decisionHistory = history\n    },\n    setLoading(state, isLoading) {\n      state.loading = isLoading\n    },\n    setError(state, error) {\n      state.error = error\n    }\n    ,\n    setUser(state, user) {\n      state.user = user;\n    },\n    setCurrentStep(state, step) {\n      state.currentStep = step\n    },\n    addChoice(state, choice) {\n      state.choices.push(choice)\n    },\n    removeChoice(state, index) {\n      state.choices.splice(index, 1)\n      if (state.probabilities.length > index) {\n        state.probabilities.splice(index, 1)\n      }\n    },\n    setProbabilities(state, probabilities) {\n      state.probabilities = probabilities\n    },\n    setWheelCustomization(state, customization) {\n      state.wheelCustomization = customization\n    },\n    setResult(state, result) {\n      state.result = result\n    },\n    resetDecision(state) {\n      state.choices = []\n      state.probabilities = []\n      state.wheelCustomization = {}\n      state.result = null\n    },\n    setDecisionQuestion(state, decisionQuestion){\n      state.decisionQuestion = decisionQuestion\n    }\n  },\n  actions: {\n    \n    setUser({ commit }, user) {\n      commit('setUser', user)\n    },\n\n    setDecisionQuestion({commit}, decisionQuestion){\n      commit('setDecisionQuestion', decisionQuestion)\n    },\n\n    async fetchChoices({ commit }) {\n      const choices = await api.getChoices();\n      commit('setChoices', choices);\n    },\n    async createChoice({ commit }, choice) {\n      const newChoice = await api.addChoice(choice);\n      commit('addChoice', newChoice);\n    },\n    async login({ commit }, { email, password }) {\n      try {\n        const response = await api.login({ email, password });\n        commit('setUser', response.user);\n        localStorage.setItem('token', response.token);\n      } catch (error) {\n        console.error('Login failed:', error);\n        throw error;\n      }\n    },\n    async logout({ commit }) {\n      commit('setUser', null);\n      localStorage.removeItem('token');\n    },\n    async signUp({ commit }, { username, email, password }) {\n      try {\n        const response = await api.signup({ username, email, password });\n        commit('setUser', response.user);\n        localStorage.setItem('token', response.token);\n      } catch (error) {\n        console.error('Sign up failed:', error);\n        throw error;\n      }\n    },\n    async saveResult({ state }) {\n      try {\n        const savedResult = await api.saveResult({\n          result: state.result,\n          choices: state.choices,\n          probabilities: state.probabilities,\n          decision: state.decision,\n          userId: state.user ? state.user.id : null\n        });\n        return savedResult;\n      } catch (error) {\n        console.error('Failed to save result:', error);\n        throw error;\n      }\n    },\n    async checkAuth({ commit }) {\n      try {\n        const userData = await api.verifyToken();\n        if (userData && userData.user) {\n          commit('setUser', userData.user);\n        } else {\n          commit('setUser', null);\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        commit('setUser', null);\n      }\n    },\n    async fetchDecisionHistory({ commit }) {\n      commit('setLoading', true)\n      commit('setError', null)\n      try {\n        const response = await api.getDecisionHistory()\n        commit('setDecisionHistory', response.data)\n      } catch (error) {\n        console.error('Error in fetchDecisionHistory:', error)\n        commit('setError', 'Failed to fetch decision history. Please try again later.')\n      } finally {\n        commit('setLoading', false)\n      }\n    },\n    \n  },\n  modules: {\n    // Add modules if needed\n  },\n})"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}