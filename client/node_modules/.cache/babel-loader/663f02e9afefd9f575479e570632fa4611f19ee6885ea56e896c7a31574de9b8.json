{"ast":null,"code":"import { onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport AppHeader from '@/components/AppHeader.vue';\nimport api from '@/services/api';\nexport default {\n  name: 'App',\n  components: {\n    AppHeader\n  },\n  setup() {\n    const store = useStore();\n    onMounted(async () => {\n      const token = localStorage.getItem('token');\n      if (token) {\n        try {\n          const user = await api.verifyToken(token);\n          store.dispatch('setUser', user);\n        } catch (error) {\n          console.error('Token verification failed:', error);\n          localStorage.removeItem('token');\n        }\n      }\n    });\n    return {};\n  }\n};","map":{"version":3,"names":["onMounted","useStore","AppHeader","api","name","components","setup","store","token","localStorage","getItem","user","verifyToken","dispatch","error","console","removeItem"],"sources":["/Users/hyemin/Documents/Projects/decision-maker/client/src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <AppHeader />\n    <div class=\"container\">\n      <router-view></router-view>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport AppHeader from '@/components/AppHeader.vue';\nimport api from '@/services/api';\n\nexport default {\n  name: 'App',\n  components: {\n    AppHeader\n  },\n  setup() {\n    const store = useStore();\n\n    onMounted(async () => {\n      const token = localStorage.getItem('token');\n      if (token) {\n        try {\n          const user = await api.verifyToken(token);\n          store.dispatch('setUser', user);\n        } catch (error) {\n          console.error('Token verification failed:', error);\n          localStorage.removeItem('token');\n        }\n      }\n    });\n\n    return {};\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n\nbody.dark-mode {\n  background-color: #1a1a1a;\n  color: #ffffff;\n}\n</style>"],"mappings":"AAUA,SAASA,SAAQ,QAAS,KAAK;AAC/B,SAASC,QAAO,QAAS,MAAM;AAC/B,OAAOC,SAAQ,MAAO,4BAA4B;AAClD,OAAOC,GAAE,MAAO,gBAAgB;AAEhC,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE;IACVH;EACF,CAAC;EACDI,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIN,QAAQ,CAAC,CAAC;IAExBD,SAAS,CAAC,YAAY;MACpB,MAAMQ,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,IAAIF,KAAK,EAAE;QACT,IAAI;UACF,MAAMG,IAAG,GAAI,MAAMR,GAAG,CAACS,WAAW,CAACJ,KAAK,CAAC;UACzCD,KAAK,CAACM,QAAQ,CAAC,SAAS,EAAEF,IAAI,CAAC;QACjC,EAAE,OAAOG,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;UAClDL,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC;QAClC;MACF;IACF,CAAC,CAAC;IAEF,OAAO,CAAC,CAAC;EACX;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}